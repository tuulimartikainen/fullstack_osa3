{"version":3,"sources":["Components/Filter.js","Components/Person.js","Components/PersonForm.js","services/people.js","Components/Notification.js","Components/Error.js","App.js","index.js"],"names":["Filter","props","value","searchValue","onChange","handleFilter","Person","persons","deletePerson","console","log","map","person","name","number","onClick","id","PersonForm","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","Error","App","useState","setPersons","setNewName","setNewNumber","setSearchValue","alertMessage","setAlertMessage","errorMessage","setErrorMessage","useEffect","people","length","showFiltered","filter","startsWith","event","target","preventDefault","found","find","p","window","confirm","returnedPerson","catch","error","addedPerson","concat","deletedName","n","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"yLAaeA,EAXA,SAACC,GAEZ,OACI,+BACI,qDAAuB,uBACvBC,MAAOD,EAAME,YACbC,SAAUH,EAAMI,qBCMbC,EAVA,SAAC,GAA8B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAEtB,OADAC,QAAQC,IAAI,iBAEVH,EAAQI,KAAI,SAAAC,GAAM,OAAI,8BACnBA,EAAOC,KADY,IACLD,EAAOE,OACtB,wBAAQC,QAAY,kBAAMP,EAAaI,EAAOI,KAA9C,uBAF8BJ,EAAOI,QCa9BC,EAjBI,SAAChB,GAEhB,OADAQ,QAAQC,IAAI,qBAER,uBAAMQ,SAAUjB,EAAMkB,QAAtB,UACA,yCACQ,uBACNjB,MAAOD,EAAMmB,QACbhB,SAAUH,EAAMoB,sBAGlB,2CAAa,uBACbnB,MAAOD,EAAMqB,UACblB,SAAUH,EAAMsB,wBAChB,8BAAK,wBAAQC,KAAK,SAAb,uB,gBCfPC,EAAU,eA2BC,EAzBF,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAChB,OAAOA,EAASC,SAsBL,EAlBA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAEA,EAASC,SAgB1B,EAZA,SAACd,EAAIe,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBT,GAAMe,GAC/BH,MAAK,SAAAC,GAAQ,OAAEA,EAASC,SAU1B,EANA,SAACd,GAEd,OADgBU,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BT,IAC5BY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCV5BK,EAZI,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KCKQE,EAZH,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACb,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KCyHMG,EA1HH,WACV9B,QAAQC,IAAI,cACZ,MAA8B8B,mBAAS,IAAvC,mBAAOjC,EAAP,KAAgBkC,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAOpB,EAAP,KAAgBsB,EAAhB,KACA,EAAkCF,mBAAS,IAA3C,mBAAOlB,EAAP,KAAkBqB,EAAlB,KACA,EAAsCH,mBAAS,IAA/C,mBAAOrC,EAAP,KAAoByC,EAApB,KACA,EAAwCJ,mBAAS,MAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAwCN,mBAAS,MAAjD,mBAAOO,EAAP,KAAqBC,EAArB,KAGAC,qBAAU,WACRxC,QAAQC,IAAI,UACZwC,IAEGtB,MAAK,SAACE,GACLW,EAAWX,QAEd,IAEHrB,QAAQC,IAAI,SAAUH,EAAQ4C,OAAQ,SAEtC,IAAMC,EAA+B,KAAhBjD,EACjBI,EACAA,EAAQ8C,QAAO,SAAAzC,GAAM,OAAIA,EAAOC,KAAKyC,WAAWnD,MA+EpD,OACE,gCACE,2CACA,cAAC,EAAD,CAAciC,QAASS,IACvB,cAAC,EAAD,CAAOT,QAASW,IAChB,cAAC,EAAD,CAAQ5C,YAAaA,EACnBE,aA1Ca,SAACkD,GACpBX,EAAeW,EAAMC,OAAOtD,UA0CxB,2CACA,cAAC,EAAD,CAAYiB,QArFF,SAACoC,GACfA,EAAME,iBACNhD,QAAQC,IAAI,iBAAmB6C,EAAMC,QACrC,IAAME,EAAQnD,EAAQoD,MAAK,SAAAC,GAAC,OAAIA,EAAE/C,OAASO,KAGvCsC,EACSG,OAAOC,QAAP,UAAkBJ,EAAM7C,KAAxB,iEAETqC,EAAcQ,EAAM1C,GAAI,CACtBH,KAAM6C,EAAM7C,KACZC,OAAQQ,IACPM,MAAK,SAAAmC,GACJtB,EAAWlC,EAAQI,KAAI,SAAAC,GAAM,OAAIA,EAAOI,KAAO0C,EAAM1C,GAAKJ,EAASmD,MACnErB,EAAW,IACXC,EAAa,OACZqB,OAAM,SAAAC,GACPjB,EAAgBiB,EAAMpC,SAASC,KAAKmC,UAO1Cf,EAAc,CACZrC,KAAMO,EACNN,OAAQQ,IACLM,MAAK,SAAAsC,GACNzB,EAAWlC,EAAQ4D,OAAOD,IAC1BpB,EAAgB,SAAD,OAAU1B,IACzBsB,EAAW,IACXC,EAAa,OACdqB,OAAM,SAAAC,GAEPjB,EAAgB,GAAD,OAAIiB,EAAMpC,SAASC,KAAKmC,OAAS,aAoDhD7C,QAASA,EACTC,iBA1CmB,SAACkC,GACxBb,EAAWa,EAAMC,OAAOtD,QA0CpBoB,UAAWA,EACXC,mBAxCqB,SAACgC,GAC1BZ,EAAaY,EAAMC,OAAOtD,UAwCtB,yCACE,cAAC,EAAD,CAAQK,QAAS6C,EAAc5C,aAtCpB,SAACQ,GAClB,IAAMoD,EAAc7D,EAAQoD,MAAK,SAAAC,GAAC,OAAIA,EAAE5C,KAAOA,KAC/B6C,OAAOC,QAAP,iBAAyBM,EAAYvD,SAErDJ,QAAQC,IAAI0D,GACZlB,EACUlC,GACPY,MAAK,SAAAC,GACJpB,QAAQC,IAAI,0BACZ+B,EAAWlC,EAAQ8C,QAAO,SAAAgB,GAAC,OAAIA,EAAErD,KAAOA,MACxC8B,EAAgB,WAAD,OAAasB,EAAYvD,KAAzB,SAEhBmD,OAAM,SAAAC,GACLxD,QAAQC,IAAI,QACZsC,EAAgB,oDAChBsB,YAAW,WACTtB,EAAgB,QACf,gB,MClGTuB,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.d9ffe8d9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n \r\n    return (\r\n        <form>\r\n            <div>filter shown with <input \r\n            value={props.searchValue}\r\n            onChange={props.handleFilter}/>\r\n            </div>\r\n      </form>\r\n    )\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\n\r\n\r\nconst Person = ({persons, deletePerson})  => {\r\n    console.log('Person toimii')\r\n    return (\r\n      persons.map(person => <p key = {person.id}>\r\n        {person.name} {person.number} \r\n        <button onClick = { () => deletePerson(person.id) } >delete </button>\r\n        </p>)     \r\n    )\r\n  }\r\n\r\nexport default Person","import React from 'react'\r\n\r\n\r\nconst PersonForm = (props) => {\r\n    console.log('PersonForm toimii')\r\n    return (\r\n        <form onSubmit={props.addName}>\r\n        <div>\r\n          name: <input \r\n          value={props.newName}\r\n          onChange={props.handleNameChange}\r\n          />\r\n        </div>\r\n        <div>number: <input \r\n        value={props.newNumber}\r\n        onChange={props.handleNumberChange}/></div>\r\n        <div><button type=\"submit\">add</button></div>\r\n      </form>\r\n    )\r\n}\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => {\r\n      return response.data\r\n  })\r\n}\r\n  \r\n  const create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response=>response.data)\r\n  \r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response=>response.data)\r\n\r\n  }\r\n\r\n  const remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n\r\n  }\r\n  \r\n  export default { \r\n    getAll, create, update, remove \r\n  }","import React from \"react\"\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"alert\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification ","import React from \"react\"\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Error ","import React, { useState, useEffect } from 'react'\nimport Filter from './Components/Filter'\nimport Person from './Components/Person'\nimport PersonForm from './Components/PersonForm'\nimport people from './services/people'\nimport Notification from './Components/Notification'\nimport Error from './Components/Error'\n\nconst App = () => {\n  console.log('App toimii')\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchValue, setSearchValue] = useState('')\n  const [alertMessage, setAlertMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    people\n      .getAll()\n      .then((data) =>{\n        setPersons(data)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'notes')\n\n  const showFiltered = searchValue === ''\n    ? persons\n    : persons.filter(person => person.name.startsWith(searchValue))\n  \nconst addName = (event) => {\n  event.preventDefault()\n  console.log('button clicked' , event.target)\n  const found = persons.find(p => p.name === newName)\n\n\n  if (found) {\n    const ok = window.confirm(`${found.name} already in phonebook, replace the old number with new one?`)\n    if (ok) {\n      people.update(found.id, {\n        name: found.name,\n        number: newNumber})\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== found.id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        }).catch(error => {\n          setErrorMessage(error.response.data.error)\n        })\n      }\n    \n\n  } else {\n    \n    people.create({\n      name: newName,\n      number: newNumber   \n      }).then(addedPerson=>{\n        setPersons(persons.concat(addedPerson))\n        setAlertMessage(`Added ${newName}`)\n        setNewName('')\n        setNewNumber('')\n    }).catch(error=>{\n      // p채채set k채siksi palvelimen palauttamaan virheilmoitusolioon n채inconsole.log(error.response.data.error)\n      setErrorMessage(`${error.response.data.error}`, 'error')\n    })\n  }\n}\n\n  \n\nconst handleFilter = (event) => {\n  setSearchValue(event.target.value)\n}\n\nconst handleNameChange = (event) => {\n  setNewName(event.target.value)\n}\n\nconst handleNumberChange = (event) => {\n  setNewNumber(event.target.value)\n}\n\nconst removeName = (id) => {\n  const deletedName = persons.find(p => p.id === id)\n  const confirm = window.confirm(`Delete ${deletedName.name}`)\n  if (confirm){\n  console.log(deletedName)\n  people\n    .remove(id)\n    .then(response => {\n      console.log('poistettu palvelimelta')  \n      setPersons(persons.filter(n => n.id !== id))\n      setAlertMessage( `Deleted ${deletedName.name} `)\n    })\n    .catch(error => {\n      console.log('fail') \n      setErrorMessage( `Information has already been removed from server`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n  })\n}\n}\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={alertMessage} />\n      <Error message={errorMessage} />\n      <Filter searchValue={searchValue}\n        handleFilter={handleFilter}/>\n      <h2>add a new</h2>\n      <PersonForm addName={addName}\n      newName={newName}\n      handleNameChange={handleNameChange}\n      newNumber={newNumber}\n      handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n        <Person persons={showFiltered} deletePerson={removeName}/>\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}